window.JSON||(window.JSON={});
(function(){function d(c){return 10>c?"0"+c:c}function a(c){return g.lastIndex=0,g.test(c)?'"'+c.replace(g,function(c){var b=j[c];return"string"==typeof b?b:"\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+c+'"'}function e(c,d){var b,f,g,j,o=h,p,n=d[c];n&&"object"==typeof n&&"function"==typeof n.toJSON&&(n=n.toJSON(c));"function"==typeof l&&(n=l.call(d,c,n));switch(typeof n){case "string":return a(n);case "number":return isFinite(n)?""+n:"null";case "boolean":case "null":return""+n;
case "object":if(!n)return"null";h+=k;p=[];if("[object Array]"===Object.prototype.toString.apply(n)){j=n.length;for(b=0;b<j;b+=1)p[b]=e(b,n)||"null";return g=0===p.length?"[]":h?"[\n"+h+p.join(",\n"+h)+"\n"+o+"]":"["+p.join(",")+"]",h=o,g}if(l&&"object"==typeof l){j=l.length;for(b=0;b<j;b+=1)f=l[b],"string"==typeof f&&(g=e(f,n),g&&p.push(a(f)+(h?": ":":")+g))}else for(f in n)Object.hasOwnProperty.call(n,f)&&(g=e(f,n),g&&p.push(a(f)+(h?": ":":")+g));return g=0===p.length?"{}":h?"{\n"+h+p.join(",\n"+
h)+"\n"+o+"}":"{"+p.join(",")+"}",h=o,g}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+d(this.getUTCMonth()+1)+"-"+d(this.getUTCDate())+"T"+d(this.getUTCHours())+":"+d(this.getUTCMinutes())+":"+d(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var c=window.JSON,f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
g=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h,k,j={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l;"function"!=typeof c.stringify&&(c.stringify=function(c,a,b){var d;h="";k="";if("number"==typeof b)for(d=0;d<b;d+=1)k+=" ";else"string"==typeof b&&(k=b);l=a;if(!a||"function"==typeof a||"object"==typeof a&&"number"==typeof a.length)return e("",{"":c});throw Error("JSON.stringify");
});"function"!=typeof c.parse&&(c.parse=function(c,a){function b(c,d){var o,f,e=c[d];if(e&&"object"==typeof e)for(o in e)Object.hasOwnProperty.call(e,o)&&(f=b(e,o),void 0!==f?e[o]=f:delete e[o]);return a.call(c,d,e)}var d;c=""+c;f.lastIndex=0;f.test(c)&&(c=c.replace(f,function(b){return"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(c.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
"")))return d=eval("("+c+")"),"function"==typeof a?b({"":d},""):d;throw new SyntaxError("JSON.parse");})})();(function(d,a){var e=d.History=d.History||{},c=d.jQuery;if("undefined"!=typeof e.Adapter)throw Error("History.js Adapter has already been loaded...");e.Adapter={bind:function(a,d,e){c(a).bind(d,e)},trigger:function(a,d,e){c(a).trigger(d,e)},extractEventData:function(c,d,e){return d&&d.originalEvent&&d.originalEvent[c]||e&&e[c]||a},onDomLoad:function(a){c(a)}};"undefined"!=typeof e.init&&e.init()})(window);
(function(d){var a=d.document,e=d.setInterval||e,c=d.History=d.History||{};if("undefined"!=typeof c.initHtml4)throw Error("History.js HTML4 Support has already been loaded...");c.initHtml4=function(){if("undefined"!=typeof c.initHtml4.initialized)return!1;c.initHtml4.initialized=!0;c.enabled=!0;c.savedHashes=[];c.isLastHash=function(a){var d=c.getHashByIndex(),e;return e=a===d,e};c.saveHash=function(a){return c.isLastHash(a)?!1:(c.savedHashes.push(a),!0)};c.getHashByIndex=function(a){var d;return"undefined"==
typeof a?d=c.savedHashes[c.savedHashes.length-1]:0>a?d=c.savedHashes[c.savedHashes.length+a]:d=c.savedHashes[a],null};c.discardedHashes={};c.discardedStates={};c.discardState=function(a,d,e){var k=c.getHashByState(a),j;return j={discardedState:a,backState:e,forwardState:d},c.discardedStates[k]=j,!0};c.discardHash=function(a,d,e){return c.discardedHashes[a]={discardedHash:a,backState:e,forwardState:d},!0};c.discardedState=function(a){var a=c.getHashByState(a),d;return d=c.discardedStates[a]||!1,d};
c.discardedHash=function(a){return c.discardedHashes[a]||!1};c.recycleState=function(a){var d=c.getHashByState(a);return c.discardedState(a)&&delete c.discardedStates[d],!0};c.emulated.hashChange&&(c.hashChangeInit=function(){c.checkerFunction=null;var f="",g,h,k;return c.isInternetExplorer()?(g=a.createElement("iframe"),g.setAttribute("id","historyjs-iframe"),g.style.display="none",a.body.appendChild(g),g.contentWindow.document.open(),g.contentWindow.document.close(),h="",k=!1,c.checkerFunction=
function(){if(k)return!1;k=!0;var a=c.getHash()||"",e=c.unescapeHash(g.contentWindow.document.location.hash)||"";return a!==f?(f=a,e!==a&&(h=a,g.contentWindow.document.open(),g.contentWindow.document.close(),g.contentWindow.document.location.hash=c.escapeHash(a)),c.Adapter.trigger(d,"hashchange")):e!==h&&(h=e,c.setHash(e,!1)),k=!1,!0}):c.checkerFunction=function(){var a=c.getHash();return a!==f&&(f=a,c.Adapter.trigger(d,"hashchange")),!0},c.intervalList.push(e(c.checkerFunction,c.options.hashChangeInterval)),
!0},c.Adapter.onDomLoad(c.hashChangeInit));c.emulated.pushState&&(c.onHashChange=function(e){var e=c.getHashByUrl(e&&e.newURL||a.location.href),g=null,h;return c.isLastHash(e)?(c.busy(!1),!1):(c.doubleCheckComplete(),c.saveHash(e),e&&c.isTraditionalAnchor(e)?(c.Adapter.trigger(d,"anchorchange"),c.busy(!1),!1):(g=c.extractState(c.getFullUrl(e||a.location.href,!1),!0),c.isLastSavedState(g)?(c.busy(!1),!1):(c.getHashByState(g),h=c.discardedState(g),h?(c.getHashByIndex(-2)===c.getHashByState(h.forwardState)?
c.back(!1):c.forward(!1),!1):(c.pushState(g.data,g.title,g.url,!1),!0))))},c.Adapter.bind(d,"hashchange",c.onHashChange),c.pushState=function(e,g,h,k){if(c.getHashByUrl(h))throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==k&&c.busy())return c.pushQueue({scope:c,callback:c.pushState,args:arguments,queue:k}),!1;c.busy(!0);var j=c.createStateObject(e,g,h),l=c.getHashByState(j),i=c.getState(!1),i=c.getHashByState(i),m=c.getHash();return c.storeState(j),
c.expectedStateId=j.id,c.recycleState(j),c.setTitle(j),l===i?(c.busy(!1),!1):l!==m&&l!==c.getShortUrl(a.location.href)?(c.setHash(l,!1),!1):(c.saveState(j),c.Adapter.trigger(d,"statechange"),c.busy(!1),!0)},c.replaceState=function(a,d,e,k){if(c.getHashByUrl(e))throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==k&&c.busy())return c.pushQueue({scope:c,callback:c.replaceState,args:arguments,queue:k}),!1;c.busy(!0);var j=c.createStateObject(a,d,e),l=
c.getState(!1),i=c.getStateByIndex(-2);return c.discardState(l,j,i),c.pushState(j.data,j.title,j.url,!1),!0});c.emulated.pushState&&c.getHash()&&!c.emulated.hashChange&&c.Adapter.onDomLoad(function(){c.Adapter.trigger(d,"hashchange")})};"undefined"!=typeof c.init&&c.init()})(window);
(function(d,a){var e=d.console||a,c=d.document,f=d.navigator,g=d.sessionStorage||!1,h=d.setTimeout,k=d.clearTimeout,j=d.setInterval,l=d.clearInterval,i=d.JSON,m=d.alert,b=d.History=d.History||{},q=d.history;i.stringify=i.stringify||i.encode;i.parse=i.parse||i.decode;if("undefined"!=typeof b.init)throw Error("History.js Core has already been loaded...");b.init=function(){return"undefined"==typeof b.Adapter?!1:("undefined"!=typeof b.initCore&&b.initCore(),"undefined"!=typeof b.initHtml4&&b.initHtml4(),
!0)};b.initCore=function(){if("undefined"!=typeof b.initCore.initialized)return!1;b.initCore.initialized=!0;b.options=b.options||{};b.options.hashChangeInterval=b.options.hashChangeInterval||100;b.options.safariPollInterval=b.options.safariPollInterval||500;b.options.doubleCheckInterval=b.options.doubleCheckInterval||500;b.options.storeInterval=b.options.storeInterval||1E3;b.options.busyDelay=b.options.busyDelay||250;b.options.debug=b.options.debug||!1;b.options.initialTitle=b.options.initialTitle||
c.title;b.intervalList=[];b.clearAllIntervals=function(){var c,a=b.intervalList;if("undefined"!=typeof a&&null!==a){for(c=0;c<a.length;c++)l(a[c]);b.intervalList=null}};b.debug=function(){b.options.debug&&b.log.apply(b,arguments)};b.log=function(){var b="undefined"!=typeof e&&"undefined"!=typeof e.log&&"undefined"!=typeof e.log.apply,a=c.getElementById("log"),d,f,g,h;b?(f=Array.prototype.slice.call(arguments),d=f.shift(),"undefined"!=typeof e.debug?e.debug.apply(e,[d,f]):e.log.apply(e,[d,f])):d="\n"+
arguments[0]+"\n";for(f=1,g=arguments.length;f<g;++f){h=arguments[f];if("object"==typeof h&&"undefined"!=typeof i)try{h=i.stringify(h)}catch(j){}d+="\n"+h+"\n"}return a?(a.value+=d+"\n-----\n",a.scrollTop=a.scrollHeight-a.clientHeight):b||m(d),!0};b.getInternetExplorerMajorVersion=function(){var a=b.getInternetExplorerMajorVersion,d;if("undefined"!=typeof b.getInternetExplorerMajorVersion.cached)d=b.getInternetExplorerMajorVersion.cached;else{d=3;for(var e=c.createElement("div"),f=e.getElementsByTagName("i");(e.innerHTML=
"<\!--[if gt IE "+ ++d+"]><i></i><![endif]--\>")&&f[0];);d=4<d?d:!1}return a.cached=d};b.isInternetExplorer=function(){return b.isInternetExplorer.cached="undefined"!=typeof b.isInternetExplorer.cached?b.isInternetExplorer.cached:Boolean(b.getInternetExplorerMajorVersion())};b.emulated={pushState:!Boolean(d.history&&d.history.pushState&&d.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(f.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(f.userAgent)),hashChange:Boolean(!("onhashchange"in
d||"onhashchange"in c)||b.isInternetExplorer()&&8>b.getInternetExplorerMajorVersion())};b.enabled=!b.emulated.pushState;b.bugs={setHash:Boolean(!b.emulated.pushState&&"Apple Computer, Inc."===f.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(f.userAgent)),safariPoll:Boolean(!b.emulated.pushState&&"Apple Computer, Inc."===f.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(f.userAgent)),ieDoubleCheck:Boolean(b.isInternetExplorer()&&8>b.getInternetExplorerMajorVersion()),hashEscape:Boolean(b.isInternetExplorer()&&
7>b.getInternetExplorerMajorVersion())};b.isEmptyObject=function(b){for(var c in b)return!1;return!0};b.cloneObject=function(b){var c,a;return b?(c=i.stringify(b),a=i.parse(c)):a={},a};b.getRootUrl=function(){var b=c.location.protocol+"//"+(c.location.hostname||c.location.host);c.location.port&&(b+=":"+c.location.port);return b+="/",b};b.getBaseHref=function(){var b=c.getElementsByTagName("base"),a="";return 1===b.length&&(b=b[0],a=null.href.replace(/[^\/]+$/,"")),a=a.replace(/\/+$/,""),a&&(a+="/"),
a};b.getBaseUrl=function(){return b.getBaseHref()||b.getBasePageUrl()||b.getRootUrl()};b.getPageUrl=function(){var a;return a=((b.getState(!1,!1)||{}).url||c.location.href).replace(/\/+$/,"").replace(/[^\/]+$/,function(b){return/\./.test(b)?b:b+"/"}),a};b.getBasePageUrl=function(){return c.location.href.replace(/[#\?].*/,"").replace(/[^\/]+$/,function(b){return/[^\/]$/.test(b)?"":b}).replace(/\/+$/,"")+"/"};b.getFullUrl=function(a,c){var d=a,e=a.substring(0,1);return c="undefined"==typeof c?!0:c,
/[a-z]+\:\/\//.test(a)||("/"===e?d=b.getRootUrl()+a.replace(/^\/+/,""):"#"===e?d=b.getPageUrl().replace(/#.*/,"")+a:"?"===e?d=b.getPageUrl().replace(/[\?#].*/,"")+a:c?d=b.getBaseUrl()+a.replace(/^(\.\/)+/,""):d=b.getBasePageUrl()+a.replace(/^(\.\/)+/,"")),d.replace(/\#$/,"")};b.getShortUrl=function(a){var c=b.getBaseUrl(),d=b.getRootUrl();return b.emulated.pushState&&(a=a.replace(c,"")),a=a.replace(d,"/"),b.isTraditionalAnchor(a)&&(a="./"+a),a=a.replace(/^(\.\/)+/g,"./").replace(/\#$/,""),a};b.store=
{};b.idToState=b.idToState||{};b.stateToId=b.stateToId||{};b.urlToId=b.urlToId||{};b.storedStates=b.storedStates||[];b.savedStates=b.savedStates||[];b.normalizeStore=function(){b.store.idToState=b.store.idToState||{};b.store.urlToId=b.store.urlToId||{};b.store.stateToId=b.store.stateToId||{}};b.getState=function(a,c){"undefined"==typeof a&&(a=!0);"undefined"==typeof c&&(c=!0);var d=b.getLastSavedState();return!d&&c&&(d=b.createStateObject()),a&&(d=b.cloneObject(d),d.url=d.cleanUrl||d.url),d};b.getIdByState=
function(a){var c=b.extractId(a.url),d;if(!c)if(d=b.getStateString(a),"undefined"!=typeof b.stateToId[d])c=b.stateToId[d];else if("undefined"!=typeof b.store.stateToId[d])c=b.store.stateToId[d];else{for(;!(c=(new Date).getTime()+(""+Math.random()).replace(/\D/g,""),"undefined"==typeof b.idToState[c]&&"undefined"==typeof b.store.idToState[c]););b.stateToId[d]=c;b.idToState[c]=a}return c};b.normalizeState=function(a){var d;if(!a||"object"!=typeof a)a={};if("undefined"!=typeof a.normalized)return a;
if(!a.data||"object"!=typeof a.data)a.data={};d={};d.normalized=!0;d.title=a.title||"";d.url=b.getFullUrl(b.unescapeString(a.url||c.location.href));d.hash=b.getShortUrl(d.url);d.data=b.cloneObject(a.data);d.id=b.getIdByState(d);d.cleanUrl=d.url.replace(/\??\&_suid.*/,"");d.url=d.cleanUrl;a=!b.isEmptyObject(d.data);if(d.title||a)d.hash=b.getShortUrl(d.url).replace(/\??\&_suid.*/,""),/\?/.test(d.hash)||(d.hash+="?"),d.hash+="&_suid="+d.id;return d.hashedUrl=b.getFullUrl(d.hash),(b.emulated.pushState||
b.bugs.safariPoll)&&b.hasUrlDuplicate(d)&&(d.url=d.hashedUrl),d};b.createStateObject=function(a,c,d){a={data:a,title:c,url:d};return a=b.normalizeState(a),a};b.getStateById=function(c){c=""+c;return b.idToState[c]||b.store.idToState[c]||a};b.getStateString=function(a){var c,d,e;return c=b.normalizeState(a),d={data:c.data,title:a.title,url:a.url},e=i.stringify(d),e};b.getStateId=function(a){var c,d;return c=b.normalizeState(a),d=c.id,d};b.getHashByState=function(a){var c,d;return c=b.normalizeState(a),
d=c.hash,d};b.extractId=function(b){var a,c;return c=/(.*)\&_suid=([0-9]+)$/.exec(b),a=c?""+(c[2]||""):"",a||!1};b.isTraditionalAnchor=function(b){return!/[\/\?\.]/.test(b)};b.extractState=function(a,c){var d=null,e,f;return c=c||!1,e=b.extractId(a),e&&(d=b.getStateById(e)),d||(f=b.getFullUrl(a),e=b.getIdByUrl(f)||!1,e&&(d=b.getStateById(e)),!d&&c&&!b.isTraditionalAnchor(a)&&(d=b.createStateObject(null,null,f))),d};b.getIdByUrl=function(c){return b.urlToId[c]||b.store.urlToId[c]||a};b.getLastSavedState=
function(){return b.savedStates[b.savedStates.length-1]||a};b.getLastStoredState=function(){return b.storedStates[b.storedStates.length-1]||a};b.hasUrlDuplicate=function(a){var c=!1,d;return d=b.extractState(a.url),c=d&&d.id!==a.id,c};b.storeState=function(a){return b.urlToId[a.url]=a.id,b.storedStates.push(b.cloneObject(a)),a};b.isLastSavedState=function(a){var c,d,e;return b.savedStates.length&&(c=a.id,d=b.getLastSavedState(),e=d.id,a=c===e),!1};b.saveState=function(a){return b.isLastSavedState(a)?
!1:(b.savedStates.push(b.cloneObject(a)),!0)};b.getStateByIndex=function(a){var c;return"undefined"==typeof a?c=b.savedStates[b.savedStates.length-1]:0>a?c=b.savedStates[b.savedStates.length+a]:c=b.savedStates[a],null};b.getHash=function(){return b.unescapeHash(c.location.hash)};b.unescapeString=function(b){for(var a;;){a=d.unescape(b);if(a===b)break;b=a}return b};b.unescapeHash=function(a){a=b.normalizeHash(a);return a=b.unescapeString(a),a};b.normalizeHash=function(b){return b.replace(/[^#]*#/,
"").replace(/#.*/,"")};b.setHash=function(a,d){var e,f,g;return!1!==d&&b.busy()?(b.pushQueue({scope:b,callback:b.setHash,args:arguments,queue:d}),!1):(e=b.escapeHash(a),b.busy(!0),f=b.extractState(a,!0),f&&!b.emulated.pushState?b.pushState(f.data,f.title,f.url,!1):c.location.hash!==e&&(b.bugs.setHash?(g=b.getPageUrl(),b.pushState(null,null,g+"#"+e,!1)):c.location.hash=e),b)};b.escapeHash=function(a){a=b.normalizeHash(a);return a=d.escape(a),b.bugs.hashEscape||(a=a.replace(/\%21/g,"!").replace(/\%26/g,
"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),a};b.getHashByUrl=function(a){a=(""+a).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return a=b.unescapeHash(a),a};b.setTitle=function(a){var d=a.title,e;d||(e=b.getStateByIndex(0),e&&e.url===a.url&&(d=e.title||b.options.initialTitle));try{c.getElementsByTagName("title")[0].innerHTML=d.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(f){}return c.title=d,b};b.queues=[];b.busy=function(a){"undefined"!=typeof a?b.busy.flag=a:"undefined"==
typeof b.busy.flag&&(b.busy.flag=!1);if(!b.busy.flag){k(b.busy.timeout);var c=function(){var a,d,e;if(!b.busy.flag)for(a=b.queues.length-1;0<=a;--a)if(d=b.queues[a],0!==d.length)e=d.shift(),b.fireQueueItem(e),b.busy.timeout=h(c,b.options.busyDelay)};b.busy.timeout=h(c,b.options.busyDelay)}return b.busy.flag};b.busy.flag=!1;b.fireQueueItem=function(a){return a.callback.apply(a.scope||b,a.args||[])};b.pushQueue=function(a){return b.queues[a.queue||0]=b.queues[a.queue||0]||[],b.queues[a.queue||0].push(a),
b};b.queue=function(a,c){return"function"==typeof a&&(a={callback:a}),"undefined"!=typeof c&&(a.queue=c),b.busy()?b.pushQueue(a):b.fireQueueItem(a),b};b.clearQueue=function(){return b.busy.flag=!1,b.queues=[],b};b.stateChanged=!1;b.doubleChecker=!1;b.doubleCheckComplete=function(){return b.stateChanged=!0,b.doubleCheckClear(),b};b.doubleCheckClear=function(){return b.doubleChecker&&(k(b.doubleChecker),b.doubleChecker=!1),b};b.doubleCheck=function(a){return b.stateChanged=!1,b.doubleCheckClear(),b.bugs.ieDoubleCheck&&
(b.doubleChecker=h(function(){return b.doubleCheckClear(),b.stateChanged||a(),!0},b.options.doubleCheckInterval)),b};b.safariStatePoll=function(){var a=b.extractState(c.location.href);if(!b.isLastSavedState(a))return a||b.createStateObject(),b.Adapter.trigger(d,"popstate"),b};b.back=function(a){return!1!==a&&b.busy()?(b.pushQueue({scope:b,callback:b.back,args:arguments,queue:a}),!1):(b.busy(!0),b.doubleCheck(function(){b.back(!1)}),q.go(-1),!0)};b.forward=function(a){return!1!==a&&b.busy()?(b.pushQueue({scope:b,
callback:b.forward,args:arguments,queue:a}),!1):(b.busy(!0),b.doubleCheck(function(){b.forward(!1)}),q.go(1),!0)};b.go=function(a,c){var d;if(0<a)for(d=1;d<=a;++d)b.forward(c);else{if(!(0>a))throw Error("History.go: History.go requires a positive or negative integer passed.");for(d=-1;d>=a;--d)b.back(c)}return b};if(b.emulated.pushState){var r=function(){};b.pushState=b.pushState||r;b.replaceState=b.replaceState||r}else b.onPopState=function(a,e){var f=!1,g=!1,i,h;return b.doubleCheckComplete(),i=
b.getHash(),i?(h=b.extractState(i||c.location.href,!0),h?b.replaceState(h.data,h.title,h.url,!1):(b.Adapter.trigger(d,"anchorchange"),b.busy(!1)),b.expectedStateId=!1,!1):(f=b.Adapter.extractEventData("state",a,e)||!1,f?g=b.getStateById(f):b.expectedStateId?g=b.getStateById(b.expectedStateId):g=b.extractState(c.location.href),g||(g=b.createStateObject(null,null,c.location.href)),b.expectedStateId=!1,b.isLastSavedState(g)?(b.busy(!1),!1):(b.storeState(g),b.saveState(g),b.setTitle(g),b.Adapter.trigger(d,
"statechange"),b.busy(!1),!0))},b.Adapter.bind(d,"popstate",b.onPopState),b.pushState=function(a,c,e,f){if(b.getHashByUrl(e)&&b.emulated.pushState)throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==f&&b.busy())return b.pushQueue({scope:b,callback:b.pushState,args:arguments,queue:f}),!1;b.busy(!0);var g=b.createStateObject(a,c,e);return b.isLastSavedState(g)?b.busy(!1):(b.storeState(g),b.expectedStateId=g.id,q.pushState(g.id,g.title,g.url),b.Adapter.trigger(d,
"popstate")),!0},b.replaceState=function(a,c,e,f){if(b.getHashByUrl(e)&&b.emulated.pushState)throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==f&&b.busy())return b.pushQueue({scope:b,callback:b.replaceState,args:arguments,queue:f}),!1;b.busy(!0);var g=b.createStateObject(a,c,e);return b.isLastSavedState(g)?b.busy(!1):(b.storeState(g),b.expectedStateId=g.id,q.replaceState(g.id,g.title,g.url),b.Adapter.trigger(d,"popstate")),!0};if(g){try{b.store=
i.parse(g.getItem("History.store"))||{}}catch(s){b.store={}}b.normalizeStore()}else b.store={},b.normalizeStore();b.Adapter.bind(d,"beforeunload",b.clearAllIntervals);b.Adapter.bind(d,"unload",b.clearAllIntervals);b.saveState(b.storeState(b.extractState(c.location.href,!0)));g&&(b.onUnload=function(){var a,c;try{a=i.parse(g.getItem("History.store"))||{}}catch(d){a={}}a.idToState=a.idToState||{};a.urlToId=a.urlToId||{};a.stateToId=a.stateToId||{};for(c in b.idToState)b.idToState.hasOwnProperty(c)&&
(a.idToState[c]=b.idToState[c]);for(c in b.urlToId)b.urlToId.hasOwnProperty(c)&&(a.urlToId[c]=b.urlToId[c]);for(c in b.stateToId)b.stateToId.hasOwnProperty(c)&&(a.stateToId[c]=b.stateToId[c]);b.store=a;b.normalizeStore();g.setItem("History.store",i.stringify(a))},b.intervalList.push(j(b.onUnload,b.options.storeInterval)),b.Adapter.bind(d,"beforeunload",b.onUnload),b.Adapter.bind(d,"unload",b.onUnload));if(!b.emulated.pushState&&(b.bugs.safariPoll&&b.intervalList.push(j(b.safariStatePoll,b.options.safariPollInterval)),
"Apple Computer, Inc."===f.vendor||"Mozilla"===(f.appCodeName||"")))b.Adapter.bind(d,"hashchange",function(){b.Adapter.trigger(d,"popstate")}),b.getHash()&&b.Adapter.onDomLoad(function(){b.Adapter.trigger(d,"hashchange")})};b.init()})(window);(function(d,a,e){function c(a){var c={},b=/^jQuery\d+$/;e.each(a.attributes,function(a,d){if(d.specified&&!b.test(d.name))c[d.name]=d.value});return c}function f(a,c){var b=e(this);if(this.value==b.attr("placeholder")&&b.hasClass("placeholder"))if(b.data("placeholder-password")){b=b.hide().next().show().attr("id",b.removeAttr("id").data("placeholder-id"));if(!0===a)return b[0].value=c;b.focus()}else this.value="",b.removeClass("placeholder")}function g(){var a,d=e(this),b=this.id;if(""==this.value){if("password"==
this.type){if(!d.data("placeholder-textinput")){try{a=d.clone().attr({type:"text"})}catch(g){a=e("<input>").attr(e.extend(c(this),{type:"text"}))}a.removeAttr("name").data({"placeholder-password":!0,"placeholder-id":b}).bind("focus.placeholder",f);d.data({"placeholder-textinput":a,"placeholder-id":b}).before(a)}d=d.removeAttr("id").hide().prev().attr("id",b).show()}d.addClass("placeholder");d[0].value=d.attr("placeholder")}else d.removeClass("placeholder")}var h="placeholder"in a.createElement("input"),
k="placeholder"in a.createElement("textarea"),j=e.fn,l=e.valHooks;h&&k?(j=j.placeholder=function(){return this},j.input=j.textarea=!0):(j=j.placeholder=function(){this.filter((h?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":f,"blur.placeholder":g}).data("placeholder-enabled",!0).trigger("blur.placeholder");return this},j.input=h,j.textarea=k,j={get:function(a){var c=e(a);return c.data("placeholder-enabled")&&c.hasClass("placeholder")?"":a.value},set:function(c,
d){var b=e(c);if(!b.data("placeholder-enabled"))return c.value=d;""==d?(c.value=d,c!=a.activeElement&&g.call(c)):b.hasClass("placeholder")?f.call(c,!0,d)||(c.value=d):c.value=d;return b}},h||(l.input=j),k||(l.textarea=j),e(function(){e(a).delegate("form","submit.placeholder",function(){var a=e(".placeholder",this).each(f);setTimeout(function(){a.each(g)},10)})}),e(d).bind("beforeunload.placeholder",function(){e(".placeholder").each(function(){this.value=""})}))})(this,document,jQuery);var UbeHistory={history:null,init:function(){UbeHistory.history=window.History;if(!History.enabled)return!1;UbeHistory.history.Adapter.bind(window,"statechange",function(){var d=UbeHistory.history.getState();UbeHistory.history.log(d.data,d.title,d.url)})}};(function(d){var a=d.History;a.getState();$("#log");a.Adapter.bind(d,"statechange",function(){a.getState()});UbeHistory.history=a})(window);
var UbeMenu=function(){return{updateMenu:function(d){var a=document.location.pathname.toLowerCase();$("[data-link]").each(function(e,c){var f=$(c).attr("href").toLowerCase();a==f&&$(c).addClass(d)});return this},applyDataUbeLink:function(){$("[data-ube-link]").each(function(d,a){$(a).attr("data-ube-link");$(a).click(function(){})})},updateMenuViaAjax:function(d){$("[data-link]").each(function(a,e){$(this).unbind();$(e).removeClass(d);var c=$(e).attr("href").toLowerCase();$(this).click(function(a){a.preventDefault();
if(0==$(".isAnimating").length){$("[data-link]").each(function(a,c){$(c).removeClass(d)});$(this).addClass(d);var a="#"+$(this).attr("data-link"),e="#"+$(".active").attr("id");$(".active").each(function(){$(this).removeClass("active")});$(a).addClass("active");UbeHistory.history.pushState({},"",c);_UbeUi.ubeReplace(e,a)}})})}}}(),UBE_AJAX=function(){return{postForm:function(d){var a=$(d).attr("action");$(d).find("[type='submit']").get(0).click(function(a){a.preventDefault()});$.post(a,UBE_AJAX.formToJson(d))},
formToJson:function(d){var a={},d=$(d).serialize().split("&");$.each(d,function(d,c){var f=c.split("=");a[f[0]]=f[1]});return a},loadImg:function(d){$("body").append('<img src="'+d+'" style="display:none;" /> ')},loadImgOfUrl:function(d){$("<div>").load(d+" img",function(){$("#loadToHide").append($(this).html())})},loadPageOfUrl:function(d,a,e){$("<div>").load(d+" "+a,function(){$(this).children(a).css("display","none");$("#main-content").append($(this).html());e&&e()})}}}(),_UbeUi=function(){return{ubeReplace:function(d,
a){$(d).addClass("isAnimating");$(a).addClass("isAnimating");$(d).fadeOut("slow",function(){$(a).fadeIn("slow")});$(d).removeClass("isAnimating");$(a).removeClass("isAnimating")}}}(),_UbeUtil=function(){function d(){return jQuery.browser.msie&&7==jQuery.browser.version.substr(0,1)?!0:!1}navigator.userAgent.toLowerCase();jQuery.browser.chrome=/chrome/.test(navigator.userAgent.toLowerCase());var a=0;return{checkEmailValidation:function(a){return null==a||""==a?!0:/.com$|.fr$|.eu$|.uk$/.test(a)},isBrowserIE7:d,
isBrowserIE8:function(){return jQuery.browser.msie&&8==jQuery.browser.version.substr(0,1)?!0:!1},isBrowserIE9:function(){return jQuery.browser.msie&&9==jQuery.browser.version.substr(0,1)?!0:!1},isBrowserIE:function(){return jQuery.browser.msie?!0:!1},isBrowserChrome:function(){return jQuery.browser.chrome},$:function(a){return d()?jQuery("[treatment-name-id="+a+"]"):jQuery(a)},debugAlert:function(d){1>a&&window.alert(d);a+=1},showCptAlert:function(){window.alert(a)}}}();jQuery.easing.jswing=jQuery.easing.swing;
jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(d,a,e,c,f){return jQuery.easing[jQuery.easing.def](d,a,e,c,f)},easeInQuad:function(d,a,e,c,f){return c*(a/=f)*a+e},easeOutQuad:function(d,a,e,c,f){return-c*(a/=f)*(a-2)+e},easeInOutQuad:function(d,a,e,c,f){return 1>(a/=f/2)?c/2*a*a+e:-c/2*(--a*(a-2)-1)+e},easeInCubic:function(d,a,e,c,f){return c*(a/=f)*a*a+e},easeOutCubic:function(d,a,e,c,f){return c*((a=a/f-1)*a*a+1)+e},easeInOutCubic:function(d,a,e,c,f){return 1>(a/=f/2)?c/2*a*a*a+e:
c/2*((a-=2)*a*a+2)+e},easeInQuart:function(d,a,e,c,f){return c*(a/=f)*a*a*a+e},easeOutQuart:function(d,a,e,c,f){return-c*((a=a/f-1)*a*a*a-1)+e},easeInOutQuart:function(d,a,e,c,f){return 1>(a/=f/2)?c/2*a*a*a*a+e:-c/2*((a-=2)*a*a*a-2)+e},easeInQuint:function(d,a,e,c,f){return c*(a/=f)*a*a*a*a+e},easeOutQuint:function(d,a,e,c,f){return c*((a=a/f-1)*a*a*a*a+1)+e},easeInOutQuint:function(d,a,e,c,f){return 1>(a/=f/2)?c/2*a*a*a*a*a+e:c/2*((a-=2)*a*a*a*a+2)+e},easeInSine:function(d,a,e,c,f){return-c*Math.cos(a/
f*(Math.PI/2))+c+e},easeOutSine:function(d,a,e,c,f){return c*Math.sin(a/f*(Math.PI/2))+e},easeInOutSine:function(d,a,e,c,f){return-c/2*(Math.cos(Math.PI*a/f)-1)+e},easeInExpo:function(d,a,e,c,f){return 0==a?e:c*Math.pow(2,10*(a/f-1))+e},easeOutExpo:function(d,a,e,c,f){return a==f?e+c:c*(-Math.pow(2,-10*a/f)+1)+e},easeInOutExpo:function(d,a,e,c,f){return 0==a?e:a==f?e+c:1>(a/=f/2)?c/2*Math.pow(2,10*(a-1))+e:c/2*(-Math.pow(2,-10*--a)+2)+e},easeInCirc:function(d,a,e,c,f){return-c*(Math.sqrt(1-(a/=f)*
a)-1)+e},easeOutCirc:function(d,a,e,c,f){return c*Math.sqrt(1-(a=a/f-1)*a)+e},easeInOutCirc:function(d,a,e,c,f){return 1>(a/=f/2)?-c/2*(Math.sqrt(1-a*a)-1)+e:c/2*(Math.sqrt(1-(a-=2)*a)+1)+e},easeInElastic:function(d,a,e,c,f){var d=1.70158,g=0,h=c;if(0==a)return e;if(1==(a/=f))return e+c;g||(g=0.3*f);h<Math.abs(c)?(h=c,d=g/4):d=g/(2*Math.PI)*Math.asin(c/h);return-(h*Math.pow(2,10*(a-=1))*Math.sin((a*f-d)*2*Math.PI/g))+e},easeOutElastic:function(d,a,e,c,f){var d=1.70158,g=0,h=c;if(0==a)return e;if(1==
(a/=f))return e+c;g||(g=0.3*f);h<Math.abs(c)?(h=c,d=g/4):d=g/(2*Math.PI)*Math.asin(c/h);return h*Math.pow(2,-10*a)*Math.sin((a*f-d)*2*Math.PI/g)+c+e},easeInOutElastic:function(d,a,e,c,f){var d=1.70158,g=0,h=c;if(0==a)return e;if(2==(a/=f/2))return e+c;g||(g=f*0.3*1.5);h<Math.abs(c)?(h=c,d=g/4):d=g/(2*Math.PI)*Math.asin(c/h);return 1>a?-0.5*h*Math.pow(2,10*(a-=1))*Math.sin((a*f-d)*2*Math.PI/g)+e:0.5*h*Math.pow(2,-10*(a-=1))*Math.sin((a*f-d)*2*Math.PI/g)+c+e},easeInBack:function(d,a,e,c,f,g){void 0==
g&&(g=1.70158);return c*(a/=f)*a*((g+1)*a-g)+e},easeOutBack:function(d,a,e,c,f,g){void 0==g&&(g=1.70158);return c*((a=a/f-1)*a*((g+1)*a+g)+1)+e},easeInOutBack:function(d,a,e,c,f,g){void 0==g&&(g=1.70158);return 1>(a/=f/2)?c/2*a*a*(((g*=1.525)+1)*a-g)+e:c/2*((a-=2)*a*(((g*=1.525)+1)*a+g)+2)+e},easeInBounce:function(d,a,e,c,f){return c-jQuery.easing.easeOutBounce(d,f-a,0,c,f)+e},easeOutBounce:function(d,a,e,c,f){return(a/=f)<1/2.75?c*7.5625*a*a+e:a<2/2.75?c*(7.5625*(a-=1.5/2.75)*a+0.75)+e:a<2.5/2.75?
c*(7.5625*(a-=2.25/2.75)*a+0.9375)+e:c*(7.5625*(a-=2.625/2.75)*a+0.984375)+e},easeInOutBounce:function(d,a,e,c,f){return a<f/2?0.5*jQuery.easing.easeInBounce(d,2*a,0,c,f)+e:0.5*jQuery.easing.easeOutBounce(d,2*a-f,0,c,f)+0.5*c+e}});$(function(){$("body").removeClass("coda-slider-no-js");$(".coda-slider").children(".panel").hide().end().prepend('<p class="loading">Loading...<br /></p>')});var sliderCount=1;
$.fn.codaSlider=function(d){d=$.extend({autoHeight:!0,autoHeightEaseDuration:1E3,autoHeightEaseFunction:"easeInOutExpo",autoSlide:!1,autoSlideInterval:7E3,autoSlideStopWhenClicked:!0,carousel:!1,crossLinking:!0,dynamicArrows:!0,dynamicArrowLeftText:"\u00ab left",dynamicArrowRightText:"right \u00bb",dynamicTabs:!0,dynamicTabsAlign:"center",dynamicTabsPosition:"top",externalTriggerSelector:"a.xtrig",firstPanelToLoad:1,panelTitleSelector:"h2.title",slideEaseDuration:1E3,slideEaseFunction:"easeInOutExpo"},
d);return this.each(function(){function a(a){d.autoHeight&&(panelHeight=$(".panel:eq("+a+")",c).height(),c.stop().animate({height:panelHeight},d.autoHeightEaseDuration,d.autoHeightEaseFunction))}function e(){var b;if(0==k||!d.autoSlideStopWhenClicked)i==g&&!d.carousel?(b=0,i=1):i==g&&d.carousel?(j=!0,b=-(f*g),i=1,c.find(".panel:first-child").clone().addClass("duplicate").appendTo(".panel-container"),c.siblings(".coda-nav").find("a.current").removeClass("current").parents("ul").find("a:eq(0)").addClass("current")):
(b=-(f*i),i+=1),a(i-1),c.siblings(".coda-nav").find("a").removeClass("current").parents("ul").find("li:eq("+(i-1)+") a").addClass("current"),$(".panel-container",c).stop().animate({marginLeft:b},d.slideEaseDuration,d.slideEaseFunction,function(){d.carousel&&j&&(j=!1,$(this).css("marginLeft",f*(i-1)).find(".panel.duplicate").remove())}),setTimeout(e,d.autoSlideInterval)}var c=$(this),f=c.find(".panel").width(),g=c.find(".panel").size(),h=d.carousel?f*(g+1):f*g,k=0,j=!1,l=0,i,m;d.dynamicArrows&&(c.parent().addClass("arrows"),
c.before('<div class="coda-nav-left" id="coda-nav-left-'+sliderCount+'"><a href="#">'+d.dynamicArrowLeftText+"</a></div>"),c.after('<div class="coda-nav-right" id="coda-nav-right-'+sliderCount+'"><a href="#">'+d.dynamicArrowRightText+"</a></div>"));$(".panel",c).wrapAll('<div class="panel-container"></div>');$(".panel-container",c).css({width:h});d.crossLinking&&location.hash&&parseInt(location.hash.slice(1))<=g?(i=parseInt(location.hash.slice(1)),m=-(f*(i-1)),$(".panel-container",c).css({marginLeft:m})):
1!=d.firstPanelToLoad&&d.firstPanelToLoad<=g?(i=d.firstPanelToLoad,m=-(f*(i-1)),$(".panel-container",c).css({marginLeft:m})):i=1;$("#coda-nav-left-"+sliderCount+" a").click(function(){k++;1==i&&!d.carousel?(m=-(f*(g-1)),a(g-1),i=g,c.siblings(".coda-nav").find("a.current").removeClass("current").parents("ul").find("li:last a").addClass("current")):1==i&&d.carousel?(j=!0,m=0,a(g-1),i=g,c.find(".panel:last-child").clone().addClass("duplicate").prependTo(".panel-container"),$(".panel-container",c).css("marginLeft",
-f),c.siblings(".coda-nav").find("a.current").removeClass("current").parents("ul").find("li:last a").addClass("current")):(i-=1,a(i-1),m=-(f*(i-1)),c.siblings(".coda-nav").find("a.current").removeClass("current").parent().prev().find("a").addClass("current"));$(".panel-container",c).stop().animate({marginLeft:m},d.slideEaseDuration,d.slideEaseFunction,function(){d.carousel&&j&&(j=!1,$(this).css("marginLeft",-(f*(g-1))).find(".panel.duplicate").remove())});if(d.crossLinking)location.hash=i;return!1});
$("#coda-nav-right-"+sliderCount+" a").click(function(){k++;i==g&&!d.carousel?(m=0,i=1,a(0),c.siblings(".coda-nav").find("a.current").removeClass("current").parents("ul").find("a:eq(0)").addClass("current")):i==g&&d.carousel?(j=!0,m=-(f*g),i=1,a(0),c.find(".panel:first-child").clone().addClass("duplicate").appendTo(".panel-container"),c.siblings(".coda-nav").find("a.current").removeClass("current").parents("ul").find("a:eq(0)").addClass("current")):(m=-(f*i),a(i),i+=1,c.siblings(".coda-nav").find("a.current").removeClass("current").parent().next().find("a").addClass("current"));
$(".panel-container",c).stop().animate({marginLeft:m},d.slideEaseDuration,d.slideEaseFunction,function(){d.carousel&&j&&(j=!1,$(this).css("marginLeft",f*(i-1)).find(".panel.duplicate").remove())});if(d.crossLinking)location.hash=i;return!1});if(d.dynamicTabs)switch(h='<div class="coda-nav" id="coda-nav-'+sliderCount+'"><ul></ul></div>',"bottom"===d.dynamicTabsPosition?c.parent().append(h):c.parent().prepend(h),ul=$("#coda-nav-"+sliderCount+" ul"),$(".panel",c).each(function(a){ul.append('<li class="tab'+
(a+1)+'"><a href="#'+(a+1)+'">'+$(this).find(d.panelTitleSelector).html()+"</a></li>")}),navContainerWidth=c.width()+c.siblings(".coda-nav-left").width()+c.siblings(".coda-nav-right").width(),ul.parent().css({width:navContainerWidth}),d.dynamicTabsAlign){case "center":ul.children().each(function(a){l+=$(ul.children()[a]).outerWidth()});ul.css({width:l});break;case "right":ul.css({"float":"right"})}$("#coda-nav-"+sliderCount+" a").each(function(b){$(this).bind("click",function(){k++;$(this).addClass("current").parents("ul").find("a").not($(this)).removeClass("current");
m=-(f*b);a(b);i=b+1;$(".panel-container",c).stop().animate({marginLeft:m},d.slideEaseDuration,d.slideEaseFunction);if(!d.crossLinking)return!1})});$(d.externalTriggerSelector).each(function(){sliderCount==parseInt($(this).attr("rel").slice(12))&&$(this).bind("click",function(){k++;targetPanel=parseInt($(this).attr("href").slice(1));m=-(f*(targetPanel-1));a(targetPanel-1);i=targetPanel;c.siblings(".coda-nav").find("a").removeClass("current").parents("ul").find("li:eq("+(targetPanel-1)+") a").addClass("current");
$(".panel-container",c).stop().animate({marginLeft:m},d.slideEaseDuration,d.slideEaseFunction);if(!d.crossLinking)return!1})});d.crossLinking&&location.hash&&parseInt(location.hash.slice(1))<=g?$("#coda-nav-"+sliderCount+" a:eq("+(location.hash.slice(1)-1)+")").addClass("current"):1!=d.firstPanelToLoad&&d.firstPanelToLoad<=g?$("#coda-nav-"+sliderCount+" a:eq("+(d.firstPanelToLoad-1)+")").addClass("current"):$("#coda-nav-"+sliderCount+" a:eq(0)").addClass("current");d.autoHeight&&(panelHeight=$(".panel:eq("+
(i-1)+")",c).height(),c.css({height:panelHeight}));d.autoSlide&&c.ready(function(){setTimeout(e,d.autoSlideInterval)});$(".panel",c).show().end().find("p.loading").remove();c.removeClass("preload");sliderCount++})};
